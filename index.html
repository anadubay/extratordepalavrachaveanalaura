<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Extrator de Palavras-Chave</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;800&display=swap');

    :root {
      --cor-destaque: #ff3c83;
      --cor-secundaria: #ff7eb9;
      --cor-bg1: #0a0a0f;
      --cor-bg2: #1a1a2e;
      --cor-bg3: #111122;
    }

    * {
      margin: 0;
      padding: 0;
      font-family: 'Montserrat', sans-serif;
      box-sizing: border-box;
    }

    body {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 16px;
      min-height: 100vh;
      flex-direction: column;
      background: linear-gradient(-45deg, var(--cor-bg1), var(--cor-bg2), var(--cor-bg3), #0a0a0f);
      background-size: 400% 400%;
      animation: moverFundo 15s ease infinite;
    }

    @keyframes moverFundo {
      0% {
        background-position: 0% 50%;
      }

      50% {
        background-position: 100% 50%;
      }

      100% {
        background-position: 0% 50%;
      }
    }

    .container {
      display: flex;
      width: 65rem;
      max-width: 95%;
      flex-direction: column;
      align-items: center;
      gap: 2rem;
      padding: 2.5rem;
      border-radius: 1.5rem;
      background: rgba(10, 10, 15, 0.85);
      box-shadow: 0px 0px 30px rgba(255, 60, 131, 0.4),
        inset 0px 0px 25px rgba(255, 60, 131, 0.2);
      border: 2px solid rgba(255, 60, 131, 0.5);
      animation: pulsar 3s infinite alternate;
    }

    @keyframes pulsar {
      from {
        box-shadow: 0px 0px 25px rgba(255, 60, 131, 0.3),
          inset 0px 0px 15px rgba(255, 60, 131, 0.2);
      }

      to {
        box-shadow: 0px 0px 50px rgba(255, 60, 131, 0.8),
          inset 0px 0px 30px rgba(255, 60, 131, 0.4);
      }
    }

    h1 {
      color: var(--cor-destaque);
      text-align: center;
      font-size: 3rem;
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: 3px;
      text-shadow: 0px 0px 20px var(--cor-destaque),
        0px 0px 40px var(--cor-secundaria);
    }

    #entrada-de-texto {
      width: 100%;
      height: 12rem;
      padding: 1.4rem 2rem;
      border-radius: 0.8rem;
      background: #111;
      color: #fff;
      font-size: 1.2rem;
      border: 2px solid var(--cor-destaque);
      resize: none;
      outline: none;
      box-shadow: 0px 0px 12px rgba(255, 60, 131, 0.4);
      transition: 0.3s ease;
    }

    #entrada-de-texto:focus {
      border-color: var(--cor-secundaria);
      box-shadow: 0 0 20px var(--cor-secundaria),
        0 0 40px var(--cor-destaque);
    }

    #entrada-de-texto::placeholder {
      color: #aaa;
      font-size: 1rem;
    }

    .botoes {
      display: flex;
      gap: 1rem;
    }

    button {
      padding: 1rem 2.5rem;
      border-radius: 0.6rem;
      border: none;
      background: var(--cor-destaque);
      color: #fff;
      font-size: 1.2rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 2px;
      text-shadow: 0px 0px 10px #fff;
      box-shadow: 0 0 20px var(--cor-destaque),
        0 0 40px var(--cor-secundaria),
        0 0 80px var(--cor-destaque);
      animation: brilhoBotao 3s infinite alternate;
    }

    button:hover {
      background: #fff;
      color: var(--cor-destaque);
      box-shadow: 0 0 25px #fff,
        0 0 50px var(--cor-secundaria),
        0 0 90px var(--cor-destaque);
      transform: scale(1.1);
    }

    @keyframes brilhoBotao {
      from {
        box-shadow: 0 0 15px var(--cor-destaque),
          0 0 30px var(--cor-secundaria);
      }

      to {
        box-shadow: 0 0 30px var(--cor-destaque),
          0 0 60px var(--cor-secundaria);
      }
    }

    #resultado-palavrachave {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      justify-content: center;
      align-self: stretch;
      max-width: 100%;
      max-height: 40vh;
      overflow-y: auto;
      margin-top: 1rem;
    }

    .tag {
      background: #111;
      border: 2px solid var(--cor-destaque);
      color: var(--cor-destaque);
      padding: 0.6rem 1.4rem;
      border-radius: 2rem;
      font-size: 1.1rem;
      font-weight: 600;
      box-shadow: 0px 0px 12px rgba(255, 60, 131, 0.6),
        inset 0px 0px 8px rgba(255, 60, 131, 0.4);
      animation: bolhas 4s ease-in-out infinite, fadeIn 0.4s ease forwards;
      opacity: 0;
      text-shadow: 0 0 8px var(--cor-destaque);
    }

    .tag:hover {
      transform: scale(1.2);
      transition: transform 0.2s ease;
      background: var(--cor-destaque);
      color: #111;
      text-shadow: none;
    }

    @keyframes bolhas {
      0% {
        transform: translateY(0px);
      }

      50% {
        transform: translateY(-8px);
      }

      100% {
        transform: translateY(0px);
      }
    }

    #contador {
      margin-top: 1rem;
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--cor-secundaria);
      text-shadow: 0px 0px 10px var(--cor-secundaria),
        0px 0px 20px var(--cor-destaque);
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>Extrator de palavras-chave</h1>
    <textarea id="entrada-de-texto" placeholder="Digite ou cole seu texto aqui..."></textarea>
    <div class="botoes">
      <button id="botao-palavrachave">Extrair</button>
      <button id="botao-copiar">Copiar</button>
    </div>
    <div id="resultado-palavrachave"></div>
    <div id="contador"></div>
  </div>

  <script>
    const stopwords = [
      "a", "à", "ao", "aos", "as", "com", "da", "das", "de", "do", "dos", "e", "em", "na", "nas", "no", "nos",
      "o", "os", "um", "uma", "uns", "umas", "para", "por", "se", "sem", "sob", "sobre", "até", "que",
      "quem", "qual", "quais", "como", "quando", "onde", "porque", "mas", "ou"
    ];

    let ultimasPalavras = [];

    document.getElementById("botao-palavrachave").addEventListener("click", () => {
      const texto = document.getElementById("entrada-de-texto").value;
      const resultado = document.getElementById("resultado-palavrachave");
      const contador = document.getElementById("contador");

      resultado.innerHTML = "";
      contador.innerHTML = "";

      if (!texto.trim()) {
        resultado.innerHTML = "<p style='color:#ff3c83; font-weight:700;'>Digite um texto primeiro!</p>";
        return;
      }

      const palavras = texto
        .toLowerCase()
        .replace(/[.,!?;:()”“"'-]/g, " ")
        .split(/\s+/)
        .filter(p => p && !stopwords.includes(p));

      const frequencia = {};
      palavras.forEach(p => {
        frequencia[p] = (frequencia[p] || 0) + 1;
      });

      const ordenadas = Object.entries(frequencia).sort((a, b) => b[1] - a[1]);
      const topPalavras = ordenadas.slice(0, 10);

      ultimasPalavras = topPalavras.map(([palavra, freq]) => `${palavra} (${freq})`);

      if (topPalavras.length === 0) {
        resultado.innerHTML = "<p style='color:#ff3c83; font-weight:700;'>Nenhuma palavra-chave encontrada.</p>";
        return;
      }

      topPalavras.forEach(([palavra, freq], index) => {
        const tag = document.createElement("span");
        tag.classList.add("tag");
        tag.style.animationDelay = `${index * 0.1}s`;
        tag.textContent = `${palavra} (${freq})`;
        resultado.appendChild(tag);
      });

      contador.textContent = `Foram encontradas ${topPalavras.length} palavras-chave.`;
    });

    document.getElementById("botao-copiar").addEventListener("click", () => {
      if (ultimasPalavras.length === 0) {
        alert("Nenhuma palavra-chave para copiar!");
        return;
      }
      const textoCopiar = ultimasPalavras.join(", ");
      navigator.clipboard.writeText(textoCopiar).then(() => {
        alert("Palavras-chave copiadas para a área de transferência!");
      });
    });
  </script>
</body>

</html>
